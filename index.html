<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Ara√ß√° Motors ‚Äì Aluguel de Scooter</title>

  <style>
    body {
      background: #0f172a;
      font-family: Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    .card {
      background: #ffffff;
      width: 360px;
      border-radius: 14px;
      box-shadow: 0 10px 30px rgba(0,0,0,.3);
      overflow: hidden;
    }

    .capa {
      height: 180px;
      background: url("assets/capa.jpg") center / cover no-repeat;
    }

    .overlay {
      background: rgba(0,0,0,0.55);
      color: white;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
    }

    .overlay h1 {
      margin: 0;
      font-size: 22px;
    }

    .overlay p {
      margin-top: 5px;
      font-size: 14px;
    }

    .conteudo {
      padding: 18px;
    }

    label {
      font-size: 14px;
    }

    input, select {
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }

    button {
      width: 100%;
      padding: 12px;
      background: #16a34a;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      margin-top: 5px;
    }

    button:hover {
      background: #15803d;
    }

    .timer {
      text-align: center;
      font-size: 22px;
      margin-top: 15px;
      font-weight: bold;
      color: #dc2626;
    }
  </style>
</head>
<body>

<div class="card">

  <!-- CAPA -->
  <div class="capa">
    <div class="overlay">
      <h1>Ara√ß√° Motors</h1>
      <p>Aluguel de Scooter</p>
    </div>
  </div>

  <!-- FORMUL√ÅRIO (VENDEDOR) -->
  <div class="conteudo">
    <label>Nome do cliente:</label>
    <input id="nome" placeholder="Nome completo">

    <label>Telefone do cliente:</label>
    <input id="telefone" placeholder="DDD + n√∫mero">

    <label>CPF:</label>
    <input id="cpf" placeholder="CPF">

    <label>Tempo contratado:</label>
    <select id="tempo">
      <option value="">Selecione</option>
      <option value="15">15 minutos</option>
      <option value="30">30 minutos</option>
    </select>

    <label>
      <input type="checkbox" id="termo">
      Declaro que o cliente recebeu o ve√≠culo em perfeitas condi√ß√µes.
    </label>

    <button id="btn" onclick="prosseguir()">Iniciar passeio</button>

    <div id="timer" class="timer"></div>
  </div>

</div>

<script>
let intervalo;
let dados = {};

function formatarNumero(numero) {
  return '55' + numero.replace(/\D/g, '');
}

function prosseguir() {
  const nome = document.getElementById('nome');
  const telefone = document.getElementById('telefone');
  const cpf = document.getElementById('cpf');
  const tempo = document.getElementById('tempo');
  const termo = document.getElementById('termo');
  const botao = document.getElementById('btn');

  if (!nome.value || !telefone.value || !cpf.value || !tempo.value) {
    alert('Preencha todos os campos');
    return;
  }

  if (!termo.checked) {
    alert('Confirme o termo');
    return;
  }

  nome.disabled = telefone.disabled = cpf.disabled = tempo.disabled = termo.disabled = true;
  botao.style.display = 'none';

  const minutos = tempo.value == 15 ? 16 : 31;
  const inicio = new Date();
  const fim = new Date(inicio.getTime() + minutos * 60000);

  dados = {
    nome: nome.value,
    telefone: telefone.value,
    cpf: cpf.value,
    tempo: tempo.value,
    inicio,
    fim
  };

  enviarWhatsInicio();
  iniciarTimer(fim);
}

function iniciarTimer(fim) {
  intervalo = setInterval(() => {
    const diff = fim - new Date();

    if (diff <= 0) {
      clearInterval(intervalo);
      document.getElementById('timer').innerText = '‚è∞ TEMPO ENCERRADO';
      enviarWhatsFim();
      alert('Tempo encerrado!');
      return;
    }

    const min = Math.floor(diff / 60000);
    const seg = Math.floor((diff % 60000) / 1000);

    document.getElementById('timer').innerText =
      `Tempo restante: ${min}:${seg.toString().padStart(2, '0')}`;
  }, 1000);
}

function enviarWhatsInicio() {
  const cliente = formatarNumero(dados.telefone);

  const msg = `
üõ¥ PASSEIO INICIADO ‚Äì ARA√á√Å MOTORS

Ol√° ${dados.nome},

Seu passeio foi iniciado com sucesso.

‚è±Ô∏è Tempo contratado: ${dados.tempo} minutos
üïí In√≠cio: ${dados.inicio.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}
‚è∞ T√©rmino previsto: ${dados.fim.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}

Boa experi√™ncia! ‚úÖ
  `;

  window.open(
    `https://wa.me/${cliente}?text=${encodeURIComponent(msg)}`,
    '_blank'
  );
}

function enviarWhatsFim() {
  const cliente = formatarNumero(dados.telefone);

  const msg = `
‚è∞ PASSEIO ENCERRADO ‚Äì ARA√á√Å MOTORS

Ol√° ${dados.nome},

Seu tempo de passeio foi encerrado.

üïí T√©rmino: ${new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}

Obrigado por utilizar nossos servi√ßos.
  `;

  window.open(
    `https://wa.me/${cliente}?text=${encodeURIComponent(msg)}`,
    '_blank'
  );
}
</script>

</body>
</html>
